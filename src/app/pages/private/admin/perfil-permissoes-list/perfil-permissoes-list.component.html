<div class="perfil-permissoes-list">
  <div class="flexRow justify-between mb-5">
    <div class="perfil-permissoes-title">
      <span class="perfil-permissoes-list-span mr-3"> >> Lista de Colaboradores</span>
    </div>
  </div>
  <div>
    <p-table [value]="users">
      <ng-template pTemplate="header">
          <tr>
              <th pSortableColumn="name">Nome <p-sortIcon field="name"></p-sortIcon></th>
              <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon></th>
              <th pSortableColumn="group">Grupo <p-sortIcon field="group"></p-sortIcon></th>
              <th pSortableColumn="setor">Setor <p-sortIcon field="setor"></p-sortIcon></th>
              <th pSortableColumn="perfil">Perfil <p-sortIcon field="perfil"></p-sortIcon></th>
              <th pSortableColumn="ativar">Ativar <p-sortIcon field="ativar"></p-sortIcon></th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
          <tr>
              <td>{{user.name}}</td>
              <td>{{user.email}}</td>
              <td>{{user.group}}</td>
              <td>{{user.setor}}</td>
              <td pEditableColumn class="cursor-pointer">
                <p-cellEditor>
                  <ng-template pTemplate="input">
                      <select [(ngModel)]="user.perfil" (change)="onUpdateUser(user)">
                        <option [value]="gpl.nome_perfil_permissao" *ngFor="let gpl of groupPerfilList">{{gpl.nome_perfil_permissao}}</option>
                      </select>
                  </ng-template>
                  <ng-template pTemplate="output">
                      {{user.type_user}}
                  </ng-template>
                </p-cellEditor>
              </td>

              <td pEditableColumn class="cursor-pointer">
                <p-cellEditor>
                  <ng-template pTemplate="input">
                      <select [(ngModel)]="user.is_active" (change)="onUpdateUser(user)">
                        <option [ngValue]="true">Sim</option>
                        <option [ngValue]="false">Não</option>
                      </select>
                  </ng-template>
                  <ng-template pTemplate="output">
                      {{user.is_active == true? 'Sim' : 'Não'}}
                  </ng-template>
                </p-cellEditor>
              </td>
          </tr>
      </ng-template>
    </p-table>
  </div>
</div>
